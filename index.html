<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ceilidh Caller</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="page">
    <header class="top-bar">
      <div class="top-bar-left">
        <button id="prev-dance" class="nav-arrow" aria-label="Previous dance">←</button>
        <select id="dance-select" aria-label="Select dance"></select>
        <button id="next-dance" class="nav-arrow" aria-label="Next dance">→</button>
      </div>
      <div class="top-bar-right">
        <button id="toggle-calling-mode" class="calling-toggle" aria-pressed="false">
          Calling mode
        </button>
      </div>
    </header>

    <main class="layout">
      <section class="left-panel" id="main-left">
        <section class="filters" id="filters">
          <div class="filter-row">
            <label>
              Formation
              <select id="filter-formation"></select>
            </label>
            <label>
              Bars
              <select id="filter-bars"></select>
            </label>
          </div>
          <div class="filter-row">
            <label>
              Music
              <select id="filter-music-type"></select>
            </label>
            <label>
              Difficulty
              <select id="filter-difficulty">
                <option value="">Any</option>
                <option value="1">Easy</option>
                <option value="2">Medium</option>
                <option value="3">Hard</option>
              </select>
            </label>
          </div>
          <div class="filter-row">
            <label>
              Setlist
              <select id="setlist-select">
                <option value="">All dances</option>
              </select>
            </label>
            <label>
              Roles
              <select id="role-set-select"></select>
            </label>
          </div>
          <div class="filter-actions">
            <button id="clear-filters" type="button">Clear filters</button>
          </div>
        </section>

        <section id="calls-container" class="calls-container">
          <!-- Calls table rendered here -->
        </section>
      </section>

      <aside class="right-panel" id="main-right">
        <section class="dance-header">
          <h1 id="dance-title"></h1>
          <div class="meta-line" id="dance-formation"></div>
          <div class="meta-line" id="dance-structure"></div>
          <div class="meta-line" id="dance-speed"></div>
          <div class="meta-line" id="dance-music-type"></div>
          <div class="meta-line" id="dance-difficulty"></div>
        </section>

        <section class="info-block" id="formation-description-container">
          <h2 class="subheading">Formation</h2>
          <p id="formation-description"></p>
        </section>

        <section class="info-block" id="dance-notes-container">
          <h2 class="subheading">Notes</h2>
          <p id="dance-notes"></p>
        </section>

        <section class="setlist-controls" id="setlist-controls">
          <div class="setlist-buttons">
            <button id="add-current-to-setlist" type="button">Add dance to setlist</button>
            <button id="reset-setlist" type="button">Reset active setlist</button>
            <button id="toggle-setlist-editor" type="button">Edit setlist order</button>
          </div>
          <div id="setlist-editor-wrapper" class="setlist-editor-wrapper hidden">
            <h2 class="subheading">Setlist order</h2>
            <ul id="setlist-editor"></ul>
          </div>
        </section>

        <section class="figure-section">
          <div class="figure-header">
            <h2 class="subheading">Formation diagram</h2>
            <button id="toggle-formation-diagram" type="button" class="small-toggle">
              Hide
            </button>
          </div>
          <div id="formation-diagram-container" class="figure-container"></div>
        </section>

        <section class="figure-section">
          <div class="figure-header">
            <h2 class="subheading">Dance illustration</h2>
            <button id="toggle-dance-figure" type="button" class="small-toggle">
              Hide
            </button>
          </div>
          <div id="figure-container" class="figure-container"></div>
        </section>
      </aside>
    </main>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
